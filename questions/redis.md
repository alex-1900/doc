# Redis

- [Redis](#Redis)
  - [分布式秒杀功能为什么不用decr](#分布式秒杀功能为什么不用decr)

### 分布式秒杀功能为什么不用decr
因为要考虑秒杀失败时回滚的问题，库存共3件，10个人同时下单，数量为 -10，3个人通过，此时有一个人的后续步骤失败，需要回滚，但 incr 1 没有用，因为数量已经是 -10 了，变成 -9 显然不能恢复可用状态。
